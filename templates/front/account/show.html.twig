{% extends 'front/base.html.twig' %}

{% form_theme form 'bootstrap_5_layout.html.twig' %}

{% block title %}
    {{ account.name }}
{% endblock %}

{% block body %}

    <div class="container">
        <div>
            <div class="d-flex justify-content-end">
                <button class="btn btn-primary my-3 btn-hide-show"
                        data-class-first-element="table-account"
                        data-class-second-element="form-profile-user"
                >
                    Modifier mon compte
                </button>
            </div>
            <table class="table table-dark table-hover table-striped table-account">
                <tbody>
                    <tr>
                        <th>Pseudo</th>
                        <td>{{ account.nickname }}</td>
                    </tr>
                    <tr>
                        <th>Inscrit le</th>
                        <td>{{ account.createdAt|date('d/m/Y') }}</td>
                    </tr>
                    <tr>
                        <th>Temps de jeu total</th>
                        <td>{{ account.totalGameTime|time_converter }}</td>
                    </tr>
                    {% if account.country is not null %}
                        <tr>
                            <th>Nationalit√©</th>
                            <td>
                                <img src="{{ account.country.urlFlag }}"
                                     alt="{{ account.country.name }}"
                                >
                            </td>
                        </tr>
                    {% endif %}
                </tbody>
            </table>
        </div>
        <div class="d-none form-profile-user">
            {{ form_start(form) }}
            {{ form_end(form) }}
        </div>
        <div class="my-5">
            <h3 class="mb-3">Ses jeux</h3>
            <div class="row">
                {% for library in account.libraries %}
                    <div class="col-12 p-2">
                        {% include 'front/partials/_account_game.html.twig' %}
                    </div>
                {% endfor %}
            </div>
        </div>

        <div class="my-2">
            <h3>Ses commentaires</h3>
            <div class="row">
                {% for comment in account.comments %}
                    <div class="col-lg-3 col-md-6 p-2">
                        {% include 'front/partials/_comment.html.twig'
                            with {
                                'profile': 1
                            }
                        %}
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>

{% endblock %}
